---
import { cn } from "@/lib/utils";
import BulletPoint from "@/components/bullet-point.astro";
import Title from "@/components/title.astro";
import encryptionIcon from "@/assets/encryption.png";
import independentIcon from "@/assets/independent.png";
import localIcon from "@/assets/local.png";
import privacyVideoHigh from "@/assets/privacy-high.mp4";
import privacyVideoLow from "@/assets/privacy-low.mp4";
---

<section
  id="privacy"
  class={cn("mx-auto max-w-6xl px-4 pt-32", "max-sm:pt-20")}
>
  <Title
    eyebrow="Privacy"
    title="How data is handled"
    subtitle="Orbit stores all recordings exclusively on your Mac. Nothing is uploaded. Sensitive data stays in your control at all times."
  />
  <div
    class={cn(
      "flex w-full items-start justify-between gap-10 pt-24",
      "max-lg:flex-col max-lg:gap-16 max-lg:pt-16",
    )}
  >
    <ul
      class={cn(
        "grid w-full shrink-0 grid-cols-1 gap-10",
        "sm:grid-cols-2",
        "lg:w-md lg:grid-cols-1",
      )}
    >
      <BulletPoint
        image={localIcon}
        alt="An icon of a folder."
        title="Local data storage"
        description="All recordings and data stay exclusively on your Mac. Nothing is ever uploaded to external servers."
      />
      <BulletPoint
        image={encryptionIcon}
        alt="An icon of a set of keys."
        title="Encrypted & under your control"
        description="Your database and recordings are fully encrypted. Easy export, and one-click deletion are coming next."
      />
      <BulletPoint
        image={independentIcon}
        alt="An icon showing a collection of tools."
        title="Independently developed"
        description="Created by an independent developer with no external funding, data selling, or hidden agendas."
      />
    </ul>
    <div
      class={cn(
        "relative -left-12 -mt-32 w-lg min-w-0 shrink-0 object-contain",
        "max-lg:left-0 max-lg:mt-0 max-lg:h-122 max-lg:w-full",
      )}
    >
      <video
        autoplay
        muted
        loop
        playsinline
        disablepictureinpicture
        preload="metadata"
        aria-hidden="true"
        class="mx-auto h-full mix-blend-screen"
      >
        <!-- Low bandwidth version for mobile connections-->
        <source
          src={privacyVideoLow}
          type="video/mp4"
          media="(max-width: 1024px)"
        />
        <!-- High bandwidth version for desktop -->
        <source src={privacyVideoHigh} type="video/mp4" />
      </video>
    </div>
  </div>
</section>
